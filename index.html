<!DOCTYPE html>
<html>
  <head>

    <script src="jquery.js"></script>
    <script src="data_generator.js"></script>
    <script src="http://timeago.yarp.com/jquery.timeago.js" type="text/javascript"></script>
      <link href="http://s3.amazonaws.com/codecademy-content/courses/ltp2/css/bootstrap.min.css" rel="stylesheet">

    <link href='stylesheet.css' rel="stylesheet"></link>
     </head>
  <body>
          <div class='header'>
      <h1 class="title">Barkler</h1>
    </div>
      <div class='outside'>
      <div class='container'>
      <textarea class='post twilt' placeholder="What's been barking up your tree?"></textarea>
      <button href="#" class="press btn">Woof!</button>
      <p class="counter">140</p>
    </div>
    </div>
    <div class='only'>Your favorite pals!!</div>
    <div class='row'>
          <div class='col-lg-3' id='shawn'>@shawndrost</div>
      <div class='col-lg-3', id='sharks'>@sharksforcheap</div>
    <div class='col-lg-3', id='mracus'>@mracus</div>
      <div class='col-lg-3', id='douglas'>@Ldouglascalhoun</div>

    </div>
      <h4 class="title">Their Woofs!</h2>
        <h3 class="title">Your Growls!</h3><ul class="photos">
      <ul class="selected"><ul class="wrap"></ul></ul>

    <ul class="posts">
      <p class='new'></p>
      <script>


      
      
      
      $(document).ready(function(){

        var counterNumber = function(num){
          $('.counter').text(num);
        }

        //removes text from input box
        $('.twilt').on('click', function(){
          $(this).text('');
        })
        
        //counter update function, including color changes
         $('.twilt').keydown(function() {
          counterNumber(140 - $(this).val().length);
          if(+$(this).val().length > 140){
            $('.counter').css("color","red");
          } else if(+$(this).val().length <= 140){
            $('.counter').css("color","#b3d9d9");
          }

        })

        $('<li>').text('@mrGrumpyPants: starting the day feeling really grumpy'+'('+ new Date() + ')').prependTo('.wrap');

          //submit new barks
         $('.btn').on('click', function(){
          var status = $('.twilt').val();
          if($('.twilt').val().length <= 140 && $('.twilt').val().length > 0){
          $('<li>').text('@mrGrumpyPants: ' + status +'('+ new Date() + ')').prependTo('.wrap');
          $('.selected').removeAttr("display");
          $('.twilt').val("");
          counterNumber(140);
        } else if(('.twilt').val().length === 0) {
        } else {
          alert("Your message is too long!")
        }
      })


        var usersTweets = {};
        function tweetTracker(tweeter, message){
          if(!usersTweets[tweeter]){
            usersTweets[tweeter] = [message];
          } else {
            usersTweets[tweeter].push(message);
          }
        };

         var $body = $('body');
        var index = streams.home.length -1;
        while(index >= 0){
          var tweet = streams.home[index];
          var $tweet = $("<li class='clickable'></li>");
          $tweet.text('@' + tweet.user + ': ' + tweet.message + '('+ new Date() + ')');
          $tweet.prependTo('.posts');
          tweetTracker(tweet.user,tweet.message);
          index -= 1;

            }
  function setIndex(){
  index = 1
};
            setInterval(setIndex, 1500 * streams.users.length)

            //compare list to li
            var compareLi = function(li){
              for(var key in usersTweets){
                if(li.indexOf(key) != -1){
                  return key;
                };
              }}

$('.posts').on('click', 'li', function(){
  var nameForClass = compareLi($(this).text().toString());
  $(nameForClass).prependTo('.wrap');
})

//create new area
//copy, do not move, but copy. THIS IS HARD! use provided objects, figure out timestamp! Perhaps put timestamp in the object itself, update the object!
//were getting there!

//filter until name === class, display all in those class on right

//name tags inline elements, drop down comments

$('.li').toggle('click',  function() {
  $(this).animate({height:200},200);
})


      });

      </script>
      </div>
      </div>
    </div>
  </body>
</html>
